\documentclass[10pt]{article}
\usepackage[russian]{babel}
\usepackage[utf8]{inputenc}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{latexsym}
\usepackage{enumitem}
\usepackage[margin=1cm]{geometry}


\newcommand{\rchoose}[2]{\left(\mkern-6mu \left({#1 \atop #2}\right) \mkern-6mu \right)}

  
\begin{document}

\title{Домашняя работа 2}
\author{Антон Афанасьев}
\maketitle

\begin{enumerate}
	\item[2.6] Докажем по индукции.\\
	Для $n=2$ верно --- $|A_1 \cup A_2| = |A_1| + |A_2| - |A_1 \cap A_2|$.\\
	Пусть верно для $n-1$. Тогда для $n$:
	$$|A_1 \cup \ldots \cup A_{n-1} \cup A_n| = |A_1 \cup \ldots \cup A_{n-1}| + |A_n| - |(A_1 \cup \ldots \cup A_{n-1}) \cap A_n| = |A_1 \cup \ldots \cup A_{n-1}| + |A_n| - |(A_1 \cap A_n) \cup \ldots \cup (A_{n-1} \cap A_n)|$$
	$$|A_1 \cup \ldots \cup A_{n-1}| = \sum_{i=1}^{n-1} |A_i| - \sum_{1 \leqslant  i < j \leqslant  n-1} {|A_i \cap A_j|} + \sum_{1 \leqslant  i < j < k \leqslant  n-1} |A_i \cap A_j \cap A_k| - \ldots (-1)^{n-2}|A_1 \cap \ldots \cap A_{n-1}|$$
	$$|(A_1 \cap A_n) \cup \ldots \cup (A_{n-1} \cap A_n)| = \sum_{i=1}^{n-1} |A_i \cap A_n| - \sum_{1 \leqslant i < j \leqslant n-1} |A_i \cap A_j \cap A_n| \ldots (-1)^{n-2}|A_1 \cap \ldots \cap A_{n-1} \cap A_n|$$
	$$\Rightarrow |A_1 \cup \ldots \cup A_{n-1} \cup A_n| = \sum_{i=1}^n |A_i| - \sum_{1 \leqslant i < j \leqslant n} |A_i \cap A_j| + \sum_{1 \leqslant  i < j < k \leqslant  n} |A_i \cap A_j \cap A_k| - \ldots (-1)^{n-1} |A_1 \cap \ldots \cap A_{n-1} \cap A_n|$$
\end{enumerate}

\begin{enumerate}[label*=3.\arabic*]
	\item $P(n, k) = P(n-1, k) + kP(n-1, k-1)$
	
	Рассмотрим множество $k$-перестановок из $n$ элементов без повторений, их $P(n, k)$. Из этого множества возьмем все перестановки не содержащие элемент $x_n$, их $P(n-1, k)$. Теперь возьмем все перестановки содержащие элемент $x_n$, их $kP(n-1, k-1)$ ($x_n$ уже выбран и одно место уже занято, значит все остальное выбираем $P(n-1, k-1)$ способами, и в каждой такой перестановке $x_n$ можно поставить на одно из $k$ мест). Так как эти подмножества образуют разбиение исходного множества, то его мощность равна сумме мощностей подмножеств.
	
	\item Каждый светофор выбирает одно из трех состояний независимо от других (вытаскивает цвет из урны, а потом кладет его обратно).\\
	$\Rightarrow$ Ответ: $3^6=729$
	
	\item Каждый пассажир независимо выбирает одну остановку на которой будет выходить.\\
	$\Rightarrow$ Ответ: $5^6=15625$
	
	\item Так как предметы неразличимы, раскладки различаются только числом элементов в каждом ящике. Мы можем просто считать, что мы уже положили в каждый ящик по одному предмету, тогда задача эквивалентна задаче разложить оставшиеся, но уже без ограничений на количество предметов в ящике.
	$$\rchoose{n}{k-n} = \binom{k-1}{k-n} = \binom{k-1}{n-1}$$

	\item Применяем ту же логику что в 3.4. Единички которые мы собрались раскладывать неразличимы, поэтому можем просто считать, что на позиции $i$ уже лежит $s_i$ единиц, для всех правильных разбиений это будет выполнятся, а значит не повлияет на их количество. Тогда осталось только разложить оставшиеся, по $n$ местам.
	$$\rchoose{n}{k-s}$$
	
\end{enumerate}


\end{document}
